<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>MySQL 5.6 & 5.7最优配置文件模板 - 秦鹏林的个人博客</title>
    	<!-- Facebook and Twitter integration -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!--<link href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\css.css" rel="stylesheet">
	<link href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\css_f.css" rel="stylesheet">-->
	<link href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\my_css.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Oxygen:300,400" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\bootstrap.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\magnific-popup.css">

	<!-- Flexslider  -->
	<link rel="stylesheet" href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\flexslider.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="http://www.qinpl.cn\api\admin\vendor\static\neat\css\style.css">

	<!-- Modernizr JS -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->


	</head>
	<style>
		img{width: 100%;}
	</style>
	<body>
		
	<!--<div class="fh5co-loader"></div>-->
	
	<div id="page">
	<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<div style="display: none;" >
				<img src="http://www.qinpl.cn\api\admin\vendor\static\img\logo.png" />
</div>
<nav class="fh5co-nav" role="navigation">
            
		<div class="container-wrap">
			<div class="top-menu">
				<div class="row">
					<div class="col-xs-2">
						<div id="fh5co-logo"><a href="/">Qin</a></div>
					</div>
					
					<div class="col-xs-10 text-right menu-1">
						<ul>
						
							<li ><a href="/">首页</a></li>
				            				            							<li class="  active   has-dropdown "><a href="/Mypl/">我的编程人生</a>
							   <i></i>
							   	<ul class="dropdown">
							   											<li><a href="/Myplphp/">php</a></li>
                                    									<li><a href="/Mypljs/">js</a></li>
                                    									<li><a href="/Mypllinux/">linux</a></li>
                                    									<li><a href="/Myplnginx/">nginx</a></li>
                                    									<li><a href="/Myplmsql/">msql</a></li>
                                    								</ul>
							   							</li>
											            							<li class="   has-dropdown "><a href="/fare/">旅行</a>
							   <i></i>
							   	<ul class="dropdown">
							   											<li><a href="/fare2012/">2012</a></li>
                                    									<li><a href="/fare2017/">2017</a></li>
                                    								</ul>
							   							</li>
											            							<li class="   has-dropdown "><a href="/Download/">下载区</a>
							   <i></i>
							   	<ul class="dropdown">
							   											<li><a href="/Downloadjs/">js下载</a></li>
                                    									<li><a href="/Downloadphp/">php下载</a></li>
                                    									<li><a href="/Downloadxtym/">系统源码下载</a></li>
                                    									<li><a href="/Downloadqtmb/">前台模板下载</a></li>
                                    								</ul>
							   							</li>
													</ul>
					</div>
				</div>
				
			</div>
		</div>
	</nav>	<div class="container-wrap">	
		<div id="fh5co-work">
			<div class="row">
			
				<div class="col-md-8" >
					<span style="border-bottom: 1px solid #CCCCCC;width: 100%;padding-bottom: 10px;" class="fh5co-project-sub qin_list_span">您当前的位置：<a href="/">首页</a>&nbsp;&gt;&nbsp;<a href="/Mypl/">我的编程人生</a>&nbsp;&gt;&nbsp;<a href="/Myplmsql/">msql</a></span>
					<h2 style="margin: 20px 0 10px 0;" class="fh5co-project-title qin_list_h">MySQL 5.6 & 5.7最优配置文件模板</h2>
					<span style="margin-bottom: 20px;" class="fh5co-project-sub">发布时间：2017-06-02 10 作者：秦 转</span>
					 <p>&nbsp;Inside君整理了一份最新基于MySQL 5.6和5.7的配置文件模板，基本上可以说覆盖90%的调优选项，用户只需根据自己的服务器配置稍作修改即可，如InnoDB缓冲池的大小、IO能力（innodb_buffer_pool_size，innodb_io_capacity)。特别注意，这份配置文件不用修改，可以直接运行在MySQL 5.6和5.7的版本下，这里使用了小小的技巧，具体可看配置文件。如果配置参数存在问题，也可以及时反馈Inside君，我们一起成长。</p>

<p>触发Inside君做这件事情的原因是大部分网络上的MySQL配置文件都非常非常古老，大多都是基于MySQL 5.1的版本，这导致了绝大部分MySQL并没有运行在最优的环境，从而导致一些错误的使用，亦或是灾难性事故的发生，比如数据丢失，主从数据不一致等。而这些问题早在5.6版本及以后的版本中得到了解决。</p>

<p>最后，抛弃你那所谓的、陈旧的、错误的MySQL配置文件，面向一个崭新的高性能、高可靠、高可扩展MySQL时代，你要做的就是下载这份配置文件并用于你的生产环境。配置如下：</p>

<table border="0" cellpadding="0" cellspacing="0">
	<tbody>
		<tr>
			<td>
			<p>&nbsp;</p>
			</td>
			<td>
			<p><code>[client]</code></p>

			<p><code>user=david</code></p>

			<p><code>password=88888888</code></p>

			<p>&nbsp;</p>

			<p><code>[mysqld]</code></p>

			<p><code>########basic settings########</code></p>

			<p><code>server-</code><code>id</code>&nbsp;<code>= 11</code></p>

			<p><code>port = 3306</code></p>

			<p><code>user = mysql</code></p>

			<p><code>bind_address = 10.166.224.32</code></p>

			<p><code>autocommit = 0</code></p>

			<p><code>character_set_server=utf8mb4</code></p>

			<p><code>skip_name_resolve = 1</code></p>

			<p><code>max_connections = 800</code></p>

			<p><code>max_connect_errors = 1000</code></p>

			<p><code>datadir =&nbsp;</code><code>/data/mysql_data</code></p>

			<p><code>transaction_isolation = READ-COMMITTED</code></p>

			<p><code>explicit_defaults_for_timestamp = 1</code></p>

			<p><code>join_buffer_size = 134217728</code></p>

			<p><code>tmp_table_size = 67108864</code></p>

			<p><code>tmpdir =&nbsp;</code><code>/tmp</code></p>

			<p><code>max_allowed_packet = 16777216</code></p>

			<p><code>sql_mode =&nbsp;</code><code>&quot;STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER&quot;</code></p>

			<p><code>interactive_timeout = 1800</code></p>

			<p><code>wait_timeout = 1800</code></p>

			<p><code>read_buffer_size = 16777216</code></p>

			<p><code>read_rnd_buffer_size = 33554432</code></p>

			<p><code>sort_buffer_size = 33554432</code></p>

			<p><code>########log settings########</code></p>

			<p><code>log_error = error.log</code></p>

			<p><code>slow_query_log = 1</code></p>

			<p><code>slow_query_log_file = slow.log</code></p>

			<p><code>log_queries_not_using_indexes = 1</code></p>

			<p><code>log_slow_admin_statements = 1</code></p>

			<p><code>log_slow_slave_statements = 1</code></p>

			<p><code>log_throttle_queries_not_using_indexes = 10</code></p>

			<p><code>expire_logs_days = 90</code></p>

			<p><code>long_query_time = 2</code></p>

			<p><code>min_examined_row_limit = 100</code></p>

			<p><code>########replication settings########</code></p>

			<p><code>master_info_repository = TABLE</code></p>

			<p><code>relay_log_info_repository = TABLE</code></p>

			<p><code>log_bin = bin.log</code></p>

			<p><code>sync_binlog = 1</code></p>

			<p><code>gtid_mode = on</code></p>

			<p><code>enforce_gtid_consistency = 1</code></p>

			<p><code>log_slave_updates</code></p>

			<p><code>binlog_format = row</code></p>

			<p><code>relay_log = relay.log</code></p>

			<p><code>relay_log_recovery = 1</code></p>

			<p><code>binlog_gtid_simple_recovery = 1</code></p>

			<p><code>slave_skip_errors = ddl_exist_errors</code></p>

			<p><code>########innodb settings########</code></p>

			<p><code>innodb_page_size = 8192</code></p>

			<p><code>innodb_buffer_pool_size = 6G</code></p>

			<p><code>innodb_buffer_pool_instances = 8</code></p>

			<p><code>innodb_buffer_pool_load_at_startup = 1</code></p>

			<p><code>innodb_buffer_pool_dump_at_shutdown = 1</code></p>

			<p><code>innodb_lru_scan_depth = 2000</code></p>

			<p><code>innodb_lock_wait_timeout = 5</code></p>

			<p><code>innodb_io_capacity = 4000</code></p>

			<p><code>innodb_io_capacity_max = 8000</code></p>

			<p><code>innodb_flush_method = O_DIRECT</code></p>

			<p><code>innodb_file_format = Barracuda</code></p>

			<p><code>innodb_file_format_max = Barracuda</code></p>

			<p><code>innodb_log_group_home_dir =&nbsp;</code><code>/redolog/</code></p>

			<p><code>innodb_undo_directory =&nbsp;</code><code>/undolog/</code></p>

			<p><code>innodb_undo_logs = 128</code></p>

			<p><code>innodb_undo_tablespaces = 3</code></p>

			<p><code>innodb_flush_neighbors = 1</code></p>

			<p><code>innodb_log_file_size = 4G</code></p>

			<p><code>innodb_log_buffer_size = 16777216</code></p>

			<p><code>innodb_purge_threads = 4</code></p>

			<p><code>innodb_large_prefix = 1</code></p>

			<p><code>innodb_thread_concurrency = 64</code></p>

			<p><code>innodb_print_all_deadlocks = 1</code></p>

			<p><code>innodb_strict_mode = 1</code></p>

			<p><code>innodb_sort_buffer_size = 67108864</code></p>

			<p><code>########semi sync replication settings########</code></p>

			<p><code>plugin_dir=</code><code>/usr/local/mysql/lib/plugin</code></p>

			<p><code>plugin_load =&nbsp;</code><code>&quot;rpl_semi_sync_master=semisync_master.so;rpl_semi_sync_slave=semisync_slave.so&quot;</code></p>

			<p><code>loose_rpl_semi_sync_master_enabled = 1</code></p>

			<p><code>loose_rpl_semi_sync_slave_enabled = 1</code></p>

			<p><code>loose_rpl_semi_sync_master_timeout = 5000</code></p>

			<p>&nbsp;</p>

			<p><code>[mysqld-5.7]</code></p>

			<p><code>innodb_buffer_pool_dump_pct = 40</code></p>

			<p><code>innodb_page_cleaners = 4</code></p>

			<p><code>innodb_undo_log_truncate = 1</code></p>

			<p><code>innodb_max_undo_log_size = 2G</code></p>

			<p><code>innodb_purge_rseg_truncate_frequency = 128</code></p>

			<p><code>binlog_gtid_simple_recovery=1</code></p>

			<p><code>log_timestamps=system</code></p>

			<p><code>transaction_write_set_extraction=MURMUR32</code></p>

			<p><code>show_compatibility_56=on</code></p>
			</td>
		</tr>
	</tbody>
</table>

<p>&nbsp;</p>

<p>配置文件百度下载地址：https://pan.baidu.com/s/1skGMGOH</p>

				    </div>
	              <div class="col-md-4 fh5co-project-detail">
	              	<div class="fh5co-project-service">
	              	<h3>评论</h3>
	              						 	
					  <div id="discuss_essay" class="discuss_essay">
   	
   	
   	
   	<script>
			var re=[];
			var a_id=45;
			var html='';
		     
			var h=tree(re,0);
			document.getElementById("discuss_essay").innerHTML =h;
			function tree(arr,pid){	
				var lsz='';
				for(var v in arr){ 
					    if(arr[v]['p_u_id']==pid){
		
		if(arr[v]['p_u_id']==0){
		lsz='</div><div class="discuss_essay_list">'+
		'<a class="discuss_essay_list_img" href="#"><img src="'+arr[v]['u_haerd']+'" /></a>'+
   		'<div class="discuss_essay_list_top"><span>'+arr[v]['name']+'</span>'+arr[v]['info_time']+'<span reply="'+arr[v]['id']+'" class="discuss_essay_list_top_h">回复</span></div>'+
   		'<div class="discuss_essay_list_cent">'+arr[v]['text']+'</div>';
   	    }else{
   	    lsz='</div><div class="discuss_essay_c_list">'+
		'<a class="discuss_essay_list_img" href="#"><img src="'+arr[v]['u_haerd']+'" /></a>'+
   		'<div class="discuss_essay_list_top"><span>'+arr[v]['name']+' 回复 '+arr[v]['p_name']+'</span>'+arr[v]['info_time']+'<span reply="'+arr[v]['id']+'" class="discuss_essay_list_top_h">回复</span></div>'+
   		'<div class="discuss_essay_list_cent">'+arr[v]['text']+'</div>';	
   	    }
					    	html=html+lsz;
					    	tree(arr,arr[v]['id']);					    	
					    }
                         }
				return html;
			}
			
			
		</script> 	
   	<div class="discuss_essay_list">
   		<div class="discuss_essay_c_list">
   	     	<div class="discuss_essay_list_info">
   	     		<textarea id="info"></textarea>
   	     		<span onclick="tj(45,0)">提交</span>
   	     	</div>
   	     </div>
   	</div>
   	
   </div>
	              	
	              	
	              	</div>
					<div class="fh5co-project-service">
						<h3>栏目最新</h3>
						<ul>
							                                <li><a href="http://www.qinpl.cn/Myplmsql/52.html" title="MySQL replace函数替换字符串语句的用法（mysql字符串替换）" target="_blank">MySQL replace函数替换字符串语句的用法（mysql字符串替换）</a></li>
                                                            <li><a href="http://www.qinpl.cn/Myplmsql/45.html" title="MySQL 5.6 & 5.7最优配置文件模板" target="_blank">MySQL 5.6 & 5.7最优配置文件模板</a></li>
                              						</ul>
					</div>
				</div>
			</div>
		</div>
	</div><!-- END container-wrap -->

	<div class="container-wrap">
		<footer id="fh5co-footer" role="contentinfo">
			<div class="row">
				<div class="col-md-3 fh5co-widget">
					<h4>About Neat</h4>
					<p>Facilis ipsum reprehenderit nemo molestias. Aut cum mollitia reprehenderit. Eos cumque dicta adipisci architecto culpa amet.</p>
				</div>
				<div class="col-md-3 col-md-push-1">
					<h4>最新更新</h4>
					<ul class="fh5co-footer-links">
						                        <li><a href="http://www.qinpl.cn/Mypllinux/53.html" target="_blank">Nginx和PHP-FPM</a></li>
                                                <li><a href="http://www.qinpl.cn/Myplmsql/52.html" target="_blank">MySQL replace</a></li>
                                                <li><a href="http://www.qinpl.cn/Mypllinux/51.html" target="_blank">Linux 定时任务</a></li>
                                                <li><a href="http://www.qinpl.cn/Myplphp/50.html" target="_blank">UCenter API使用</a></li>
                                                <li><a href="http://www.qinpl.cn/Myplphp/49.html" target="_blank">sphinx的配置文件</a></li>
                        					</ul>
				</div>

				<div class="col-md-3 col-md-push-1">
					<h4>友情链接</h4>
					<ul class="fh5co-footer-links">
						<li><a href="http://www.codejie.net/" target="_blank">源码街</a></li>
					</ul>
				</div>

				<div class="col-md-3">
					<h4>联系方式</h4>
					<ul class="fh5co-footer-links">
						<li>tel:<a href="tel://18883768578">18883768578</a></li>
						<li>e mail:<a href="mailto:1017962047@qq.com">1017962047@qq.com</a></li>
						<li><a href="http://www.qinpl.cn/">www.qinpl.cn</a></li>
					</ul>
				</div>

			</div>

			<div class="row copyright">
				<div class="col-md-12 text-center">
					<p>
						<small class="block"><a href="http://www.qinpl.cn/sitemap.xml" target="_blank">网站地图</a> Design by DanceSmile <a href="http://www.miitbeian.gov.cn" target="_blank">蜀ICP备17013559号-1</a></small>
					</p>
					<p>
						<ul class="fh5co-social-icons">
							<li><a href="#"><i class="icon-twitter"></i></a></li>
							<li><a href="#"><i class="icon-facebook"></i></a></li>
							<li><a href="#"><i class="icon-linkedin"></i></a></li>
							<li>
								<script type="text/javascript">
  		var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
  		document.write(unescape("%3Cspan id='cnzz_stat_icon_1261808781'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1261808781%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
                               </script>                  
							</li>
						</ul>
					</p>
				</div>
			</div>
		</footer>
	</div><!-- END container-wrap -->	
	</div>

	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up2"></i></a>
	</div>
	
	<!-- jQuery -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\jquery.waypoints.min.js"></script>
	<!-- Flexslider -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\jquery.flexslider-min.js"></script>
	<!-- Magnific Popup -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\jquery.magnific-popup.min.js"></script>
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\magnific-popup-options.js"></script>
	<!-- Counters -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\jquery.countTo.js"></script>
	<!-- Main -->
	<script src="http://www.qinpl.cn\api\admin\vendor\static\neat\js\main.js"></script>

	<div class="list_zezao">
	<div class="v_k">
      <div class="cols"><span>X</span></div>
      <div id="u_login"></div>
     
      		<a href="http://www.qinpl.cn/admin/Qqlater/Login?qurl=oZKvrqjv/45"></a>

	</div>
</div>
	<script type="text/javascript" src="http://www.qinpl.cn\api\admin\vendor\static/js/config.js" ></script>
	<script type="text/javascript" src="http://www.qinpl.cn\api\admin\vendor\static/js/new.js" ></script>

	</body>
</html>

